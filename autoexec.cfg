
// ===========================
// *-- Connection Settings --*
// ===========================

cl_cmdrate 66
cl_updaterate 66 
cl_interp 0.030303
cl_interp_ratio 2 
cl_lagcompensation 1 
cl_pred_optimize 1 

rate 196608 
net_splitpacket_maxrate 196608
net_splitrate 1
net_maxcleartime 0.020346

cl_smooth 0
cl_smoothtime 0.1 
cl_predictweapons 1 
cl_timeout 70 
net_queued_packet_thread 1
net_maxpacketdrop 1000 
hud_escort_interp 0.1 

net_compresspackets 1
net_compresspackets_minsize 128
net_maxroutable 1260
net_maxfragments 1260

// ================
// *-- Graphics --*
// ================

// Misc
mat_vsync 0 // Disables V-Sync
mat_motion_blur_enabled 0 // Disables motionblur 
mat_viewportscale 1
mat_viewportupscale 1
r_3dsky 0
r_dopixelvisibility 1 // Enable visibility testing
r_pixelvisibility_partial 0 // Don't use algorithm for testing
cl_jiggle_bone_framerate_cutoff 0 // Disables jigglebones
fps_max 240
engine_no_focus_sleep 0 // Don't limit FPS when engine isn't focused
r_fastzreject 1 // Renders weird shit on the CPU. I dunno it works apparently
r_occlusion 1 // Use CPU to skip rendering models you can't see
r_occludeemaxarea 1 // Skip occlusion of objects that are too large to test for
r_occluderminarea 10 // Skip occluders that are too smal to block anything
mat_tonemapping_occlusion_use_stencil 0 // Don't use stencil buffer to occlusion
host_flush_threshold 0
r_norefresh 1 // Don't store mudada variables
fast_fogvolume 1
sv_alternateticks 0 // Run every tick
mod_offline_hdr_switch 1 

// Lighting
mat_filterlightmaps 0
r_ambientboost 1 // Boosts reflected light, makes you see even though tiny performance impact
r_lightaverage 0 // Disable this lighting job that uses a lot of CPU even if it is not needed/noticeable
r_dynamic 0 // Disable dynamic lighting (muzzle flash lighting, explosions and other lighted effects)
r_worldlightmin 0.1
r_worldlights 0 // Disables world lights
mat_disable_lightwarp 1 // Disable light warps
mat_reducefillrate 1 // Simplify material shading and use some DX8 features

r_rimlight 0 // Disables light around character edges
r_ambientmin 0.5 // Allow for ambient boosting even in brighter light levels, makes characters stand out
r_maxdlights 0 // Do not allow any dynamic lights
r_worldlights 0 // Disable world lights

// Textures
mat_picmip 2 // Use lowest quality textures
mat_filtertextures 0 // Blocky textures
mat_disable_fancy_blending 1 // Disable fancy blending
mat_forceaniso 1 
mat_trilinear 0

// TRIFECTA OF SHITTY WEAPONS
mat_bumpmap 0 // Disables bumpmap materials
mat_phong 0  // Flatter shading
mat_specular 0 // Specular fish make wormhole potions

// Shadows
r_shadows 0 // Disable shadows for a big FPS increase
r_shadowrendertotexture 0 // Do not use two materials for shadows (uses memory and rendering time)
r_flashlightdepthtexture 0 // Disable the CPU intensive depth texturing for shadows
r_flashlightrender 0 // Disable flashlights
r_shadowmaxrendered 0 // No shadows ever

// Effects
tracer_extra 0 // Remove extra fluff to bullet lines that make them thicker
r_drawtracers_firstperson 0 // disable tracers
cl_show_splashes 1 // Enable water splashes
cl_ejectbrass 0 // Disable shell ejection from pistols, shotgun, minigun, etc
// cl_ejectbrass 1 // If you crash, use this command instead
cl_fasttempentcollision 20 // Check every 20 frames for collisions on effects
glow_outline_effect_enable 1 // Enable ally and objective x-ray effect

// Muzzleflash effects (MAY NOT WORK)
muzzleflash_light 0 // Disable muzzle flash lights (MAY NOT WORK)
cl_muzzleflash_dlight_1st 0 // Disable muzzle flash lights in first person (MAY NOT WORK)

// Particles
cl_particle_batch_mode 1
tf_particles_disable_weather 1
mat_reduceparticles 1
cl_new_impact_effects 0
r_drawflecks 0

// Post processing
mat_postprocessing_combine 1 // Combines post processing effects
mat_hdr_level 0 // LDR
building_cubemaps 0
mat_colorcorrection 0
mat_postprocess_x 4 
mat_postprocess_y 4 

// Antialiasing
mat_alphacoverage 0 // Disable alpha-to-coverage
mat_software_aa_strength 0  // Don't enable software AA
mat_software_aa_strength_vgui 0 // Make software AA not exist
mat_antialias 1 // No anti aliasing
mat_aaquality 0 // Disable CSAA

// LOD
r_rootlod 2
r_lod -1
lod_transitiondist -5001
mat_max_worldmesh_vertices 1024

// Water 
// NOTE: Normal configs make water look like shit and hard to see through, so this uses normal water
r_cheapwaterstart 150  
r_cheapwaterend 750  
r_waterforceexpensive 0 // Do not force expensive water
r_WaterDrawReflection 0 // Water reflections disabled for more performance
r_waterforcereflectentities 0 // Do not forcing entity water reflections
r_WaterDrawRefraction 1 // Enable water refraction as water is hard to look at otherwise
r_ForceWaterLeaf 1 

// Character animations
r_flex 0
flex_rules 0
anim_3wayblend 0 // Disable 3-way animation blending
ai_expression_optimization 1 // If fps > target, then show animations. Else disable animations
ai_expression_frametime 0
r_teeth 0 
flex_smooth 0
r_eyes 0
r_eyemove 0
tf_clientsideeye_lookats 0
blink_duration 0
phonemefilter 0.001
phonemesnap 0

// Props
r_decalstaticprops 0 // Don't use lighting data for static props
cl_phys_props_enable 0 // Disables clientside physics props
cl_drawdetailprops 0 // Disable detailed props
r_staticprop_lod 7 // Force lowest LOD for props
r_PhysPropStaticLighting 1 // Use premad lighting for props
cl_phys_props_max 0 // Disables amount of visable props

// Decals
r_decals 0 // Disables decals
mp_decals 0
r_drawbatchdecals 1
r_drawmodeldecals 0 // Disables blood decals on bodies
r_renderyoverlayfragment 0

// Sprays
cl_allowdownload 1
cl_allowupload 1
r_spray_lifetime 2
cl_playerspraydisable 0
   
// Ropes in Mannpower and decoration
rope_rendersolid 1 // Render solid part of ropes
r_ropetranslucent 0 // Skip simulating ropes
rope_smooth 0 // Skip a long smoothing operation for ropes
rope_subdiv 0 // Skip heavy loops for rope subdivisions
rope_collide 0 // Skip CPU heavy world collisions for ropes
rope_wind_dist 0 // Do not apply CPU intensive wind to ropes
rope_averagelight 0 // Simplify rope lighting for weak GPUs

// Ragdoll Disable
cl_ragdoll_fade_time 0 // Remove ragdoll fade out delay
cl_ragdoll_forcefade 1 // Effectively disables ragdolls by instantly fading them
cl_ragdoll_physics_enable 0 // Disable ragdoll physics
ragdoll_sleepaftertime 0 // Instantly sleep ragdolls

// Gib Disable
cl_burninggibs 0 // Disable burning gibs, performance impact
props_break_max_pieces 0 // Break gibs and some props into the pieces they were designed to break into
violence_hgibs 1 // Must be on or else you get silly gibs which are even shittier
violence_hblood 1 // ^^^

// Threading
r_threaded_particles 1 // Process particle systems in parallel
mat_queue_mode 2 // Force multithreaded mode for the material system queue
host_thread_mode 1 // Use the threaded frame behavior

//Bloom and HDR
mat_disable_bloom 1
mat_bloomscale 0
mat_bloom_scalefactor_scalar 0
mat_hdr_level 0

// Details
cl_detaildist 0
cl_detailfade 0
cl_drawmonitors 0

// =============
// *-- Files --*
// =============

// Memory
mem_max_heapsize_dedicated 128 // Increase memory cap on 512MB systems
lzma_persistent_buffer 1 // Keep the LZMA compression system in memory to prevent reloads of it
cl_always_flush_models 0 // Keep models loaded in between map loads and prevent crashes from model flushing
mat_levelflush 1 // Clear temporary memory to prevent overloading memory stores
sv_forcepreload 0 // Disable harmful force preload enabled in other configs
mat_bufferprimitives 1 // Skip flushing of primitives when meshes draw

// Sizes
filesystem_buffer_size 8192 // Use a 8KB buffer for the filesystem
filesystem_max_stdio_read 31 // Use standard read cap
filesystem_native 1 // Use native filesystem calls if available
filesystem_unbuffered_io 1 // Allow for unbuffered IO where appropriate since it can be async

// Models
mod_load_anims_async 1 // Enable async animation loading
mod_load_mesh_async 1 // Enable async mesh loading
mod_load_vcollide_async 0 // Enable async vcollide loading
mod_lock_mdls_on_load 0 // Do not lock models due to some issues with them being locked
mod_forcetouchdata 1 // Put all model data into cache on load
mod_touchalldata 1 // Load submodels
mod_forcedata 1 // Cache submodel data

net_maxfilesize 64 // Max out file upload size for extra content
cl_downloadfilter all // Allow all server custom files
tf_steam_workshop_query_timeout 5 // Shorter timeout for workshop

// =============
// *-- Sound --*
// =============

// Threading
snd_async_fullyasync 1 // Play sounds independently of main engine work
snd_async_minsize 0 // Fast async check when snd_async_fullyasync is enabled
snd_mix_async 1 // Use another thread to mix sounds
phonemedelay 0 // Do not delay lip sync a lot with an async sound system

// Misc
snd_delay_sound_shift 0.01 // Give some time to allow for better synced sounds
snd_mixahead 0.066 // Balance between sound delay and less demand on the CPU
snd_lockpartial 1 // Use interleaved, partial locking sound algorithm
snd_cull_duplicates 0 // Do not skip playing duplicate sounds
voice_steal 2 // Reuse unimportant sound channels, increases FPS and sound quality
voice_buffer_ms 200 // Buffer voice stream for better quality, at a slight delay
snd_noextraupdate 1 // Do not update sound twice
snd_async_spew_blocking 0 // Disable async spew
dsp_enhance_stereo 0
snd_defer_trace 1
snd_noextraupdate 1

// ================================
// *-- Quality-of-life --*
// ================================

// Misc
tf_mm_debug_level 0 
tf_party_join_request_mode 0 
tf_party_force_update
sv_pure 0
sv_cheats 1 // Prevent fog cvar spew in console on startup
closecaption 1 // Makes closed captions
cl_hud_playerclass_use_playermodel 0 // Makes your playermodel on HUD to be default image

// Local Servers
mp_respawnwavetime 0
ent_fire team_round_timer disable
mp_tournament 1
sv_parallel_sendsnapshot 1

// Backpack
tf_time_loading_item_panels 0.0003 // Decrease time spent per frame loading item panels
tf_backpack_page_button_delay 0.25 // Decrease button delay for moving items

// Better damage text
hud_combattext_batching 1 
hud_combattext_batching_window 2

// Messages
hud_saytext_time 10 // Chat stays onscreen for 10 seconds
cl_showtextmsg 1 // Enables voice commands in chat, like MEDIC!
cl_showpluginmessages 1 // Shows server plugin messages
cl_chatfilters 63 // Stupid peepee chat filter thing that doesn't work

// Pyrovision
pyro_dof 0 // Skip SSAO depth pass
pyro_vignette 0 // Disable pyrovision vignette
